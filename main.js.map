{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/box_background.png","webpack:///./src/img/box.png","webpack:///./src/img/coins.jpg","webpack:///./src/img/favicon.ico","webpack:///./src/img/frame_background.png","webpack:///./src/img/loading.gif","webpack:///./src/img/menu_800x600.jpg","webpack:///./src/img/modal_background.jpg","webpack:///./src/img/pause.png","webpack:///./src/img/sheet_objects_heroes.png","webpack:///./src/img/texture.png","webpack:///./src/font/Nautilus.otf","webpack:///./src/font/SHPinscher-Regular.otf","webpack:///./src/js/chunks/GameModel.js","webpack:///./src/js/chunks/GameView.js","webpack:///./src/js/chunks/GameController.js","webpack:///./src/js/chunks/headlerModal.js","webpack:///./src/js/chunks/init.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DataBase","_classCallCheck","this","MAX_WRITE","currentIP","_createClass","_that","timer","setTimeout","limit","ip","id","points","Error","cloudDB","use","collection","doc","concat","replace","toLowerCase","set","slice","length","realPlayer","catch","error","console","log","message","Request","load","fetch","then","response","json","localStorage","IP","jsonData","WebAudio","effects","ctx","gainNode","loaded","time","lastTime","AudioContext","createGain","createGainNode","connect","destination","currentTime","path","_this","effect","arrayBuffer","decodeAudioData","buffer","push","play","loop","volume","sound","createBufferSource","gain","start","disconnect","UI","linki","coordsMouseX","coordsMouseY","frame","pos","Game","menu","death","rating","startPlay","pauseGame","fade","loadingPercent","about","state","count","stageBossCount","stageExtraBossCount","stageNumber","lastTimeBull","requstCount","lastTimeColl","gamer","activeLink","selectName","music","updateGameStatus","setHealth","stopAll","escape","game","enemy","CreateEnemy","createEnemy","bossExtraSound","find","item","bathSound","bossSound","essenceSettings","birds","health","dmg","type","x","y","sizeX","sizeY","frameCount","frameArray","enemyStartPosition","j","bossExtra","boss","countThrow","killCount","stat","SoundCount","bullets","coins","eat","sprite","size","move","startPos","Loader","loadCount","TextureStorage","SpriteStorage","SoundsStorage","upgrade","startRecord","src","fileType","imageType","file","Image","textureCache","SpriteCache","Audio","SoundCache","Player","location","gameTime","gamerName","damage","whatDrop","upgradeRate","Sprite","Bullets","speeds","settings","width","height","animationPos","stopGame","lastFire","weapons","speed","active","ui","Date","now","direction","Vector","coorddX","coorddY","normalize","degree","createBullets","siz","spriteCoordX","spriteCoordY","Enemy","enemySpeedX","getRandomPull","enemySpeedY","DeathTimer","collision","getDmg","sizes","onDeath","bull","bullStorage","speedY","on","lastBull","randomMove","hp","spriteX","spriteY","spriteW","spriteH","frameGo","posX","posY","spriteEnemy","getRandom","url","frames","dir","once","Saveframes","index","idx","max","Math","floor","Items","settingsItems","valueName","percent","random","cordSpriteX","cordsSpriteY","sizeSpriteX","sizeSpriteY","arr","Draw","GameView_classCallCheck","blink","scaleValue","frameBlink","view","viewMode","viewDesktop","textureW","textureH","openGate","countModal","drawInX","drawInY","mouse","spriteListBulletsPosition","spritePlayerSizeW","spritePlayerSizeH","items","spriteItemSize","pause","RectPause","RectPauseSize","TextStageName","Notification","Menu","pauseLink","sizeLinkPause","background","TitleGame","myName","version","sizeLinkPlay","coordsLinkRating","sizeLinkRating","return","StrokeRectCoords","StrokeRectSize","RectCoords","RectSize","TitleName","TitlePoints","ratingListX","ratingListPointsX","returnLinkCoords","returnLinkSize","gameOver","TitleCoords","win","Points","Throw","menuLinkCoords","menuLinkSize","playGame","spriteTextureBorder","spriteTexture","gamePanelCoords","gamePanelSize","hpTextPosition","hpBarSize","hpBarBoorderCoords","hpBarBoorderSize","PointsCoords","PointsSize","PointsGetCoords","PointsGetSize","PointsTextCoords","ModalTextWASD","ModalPress","pauseButton","pauseLinkSize","loading","loadingText","drawBuffer","canvasBuffer","ctxBuffer","getCanvas","canvas","document","getElementById","getCtx","getContext","drawImage","restore","render","fillStyle","font","fillText","forEach","lucky","save","perc","globalAlpha","strokeStyle","lineWidth","strokeRect","fillRect","textAlign","toFixed","bulls","setTransform","translate","rotate","PI","UserInterface","_this2","GameOver","renderMouse","gameOverView","drawRatingList","renderEnemys","renderItems","renderPlayer","renderBulls","renderEnemyBulls","fadeIn","pauseMenuView","DrawMenu","CTX","shadowColor","shadowOffsetX","shadowOffsetY","checkFrame","selectColor","color","clearRect","createPattern","shadowBlur","textBaseline","frameCheck","RecordsY","checkMobile","checkLink","createElement","setAttribute","panel","createLinearGradient","addColorStop","ul","inputName","buttonCancel","buttonSave","div","modal","bgModal","classList","add","placeholder","appendChild","body","insertBefore","querySelector","remove","window","screen","availHeight","availWidth","GameController","GameController_classCallCheck","canvasLeft","canvasTop","inputState","UP","DOWN","LEFT","RIGHT","ESCAPE","getElementsByClassName","addEventListener","e","target","className","setKeyState","which","preventDefault","offsetLeft","offsetTop","pageX","pageY","getName","deleteGetNameView","command","Name","elem","useSkill","keyCode","isPressed","loader","where","onSnapshot","snapshot","data","sort","compare","a","b","update","link","animationMoving","Win","bullEnemy","rand","bulPosX","bulPosY","gamerPosX","gamerPosY","splice","boxCollides","timers","getTime","dmgSound","duration","dirMovingEnemy","updateCreeps","array","bullet","vector","multiply","calcBullet","updateBulls","posBull","enemyPos","itemBull","itemEnemy","checkShot","posItem","posGamer","checkItem","arrayEnemy","deathEnemyUpdate","setSprite","checkPlayerDmg","damageCheck","pos2","size2","x2","y2","r2","b2","Links","coordsX","coordsY","lengthX","lengthY","init","gamePlayDraw","controller","request","getIP","mainDB","updateLimit","getSpriteData","loadingRender","player","some","startGameAnimation","ratingGame","mainMenu","linkers","setRequstCount","building","spawnAndLvling","gameplay","inputs","pauseCheck","buildTexture","renders","toString","statistic","result","setItem","JSON","stringify","updateUserData","requestAnimationFrame","enemySpeed","buildingGetNameView","setEvent","dataBaseListener","main"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = __webpack_public_path__ + \"img/box_background.png\";","module.exports = __webpack_public_path__ + \"img/box.png\";","module.exports = __webpack_public_path__ + \"img/coins.jpg\";","module.exports = __webpack_public_path__ + \"img/favicon.ico\";","module.exports = __webpack_public_path__ + \"img/frame_background.png\";","module.exports = __webpack_public_path__ + \"img/loading.gif\";","module.exports = __webpack_public_path__ + \"img/menu_800x600.jpg\";","module.exports = __webpack_public_path__ + \"img/modal_background.jpg\";","module.exports = __webpack_public_path__ + \"img/pause.png\";","module.exports = __webpack_public_path__ + \"img/sheet_objects_heroes.png\";","module.exports = __webpack_public_path__ + \"img/texture.png\";","module.exports = __webpack_public_path__ + \"font/Nautilus.otf\";","module.exports = __webpack_public_path__ + \"font/SHPinscher-Regular.otf\";","export  class DataBase{\n    // * firebase\n\n    constructor(){\n        this.MAX_WRITE = 0;\n        this.currentIP = null;\n    }\n\n    updateLimit(){\n        // * Limit on updata data\n        let _that = this;\n        this.timer = setTimeout(function limit(){\n    \n            _that.MAX_WRITE = 0;\n            this.timer = setTimeout(limit, 60000);\n        }, 60000);\n    }\n\n    updateUserData(ip, id, name, points){\n        // * Update data\n    \n        if (this.MAX_WRITE > 3) throw new Error('limit');\n    \n        this.MAX_WRITE++;\n        this.currentIP = (ip) ? ip : 'no ip detected';\n    \n        cloudDB.use.collection('users').doc(`user_${(name+id).replace(/\\s/g,'').toLowerCase()}`)\n            .set({\n                name: name,\n                points: points,\n                id: id.slice(1, id.length),\n                ip: this.currentIP,\n                realPlayer: true\n            })\n    \n            .catch(function (error){\n    \n                console.log(error.message);\n            });\n    }\n\n\n}\n\nexport class Request{\n    // * API\n\n    constructor(){\n        this.key = 'json';\n    }\n\n    getIP(load){\n        // * Check users IP\n    \n        fetch(`https://api.ipify.org?format=${this.key}`)\n    \n            .then((response) => response.json())\n            .then((response) =>{\n    \n                (response.ip) ? localStorage.IP = response.ip: localStorage.IP = 'no detected';\n            })\n    \n            .catch(function (error){\n    \n                console.log(error.message);\n            });\n    }\n\n    getSpriteData(load){\n\n        fetch(`../storage/data.json`)\n    \n        .then((response) => response.json())\n        .then((response) => load.jsonData = response)\n    \n        .catch(function (error){\n    \n            console.log(error.message);\n        });\n    }\n\n\n\n}\n\n\nexport class WebAudio{\n\n    constructor(){\n        this.effects = [];\n        this.ctx = null;  // создание контекста звука\n        this.gainNode = null;\n        this.loaded = false;\n        this.time = null;\n        this.lastTime = null;\n    }\n\n    init(){\n\n        this.ctx = new AudioContext();\n        this.gainNode = this.ctx.createGain ? this.ctx.createGain() : this.ctx.createGainNode();\n        this.gainNode.connect(this.ctx.destination);  // подключение к динамикам\n        this.time = this.ctx.currentTime;\n    }\n\n    load(path,name){\n\n        let effect = {};\n        let _that = this;\n    \n        fetch(path)\n        .then((response) => response.arrayBuffer())\n        .then ((response) => {\n            \n            this.ctx.decodeAudioData(response)\n            .then ((buffer) => {\n                effect.name = name;\n                    effect.path = path;\n                    effect.buffer = buffer;\n                    effect.loaded = true;\n                    _that.effects.push(effect);\n                })\n    \n            .then (()=>{\n                effect.play = function(loop,volume) {\n                if (!effect.loaded) return;\n    \n    \n                let sound = _that.ctx.createBufferSource(); // Создается источник звука\n                sound.buffer = this.buffer; // настраивается буфер\n    \n    \n                sound.connect(_that.gainNode);  // подключение источника к \"колонкам\"\n                sound.loop = loop;\n                _that.gainNode.gain.value = volume;\n                sound.start(0); // start\n                // sound.stop(5);\n    \n                // _that.lastTime = _that.ctx.currentTime - sound.buffer.duration;\n                // _that.time = _that.ctx.currentTime;\n                }\n            });\n        });\n    }\n\n    stopAll() {\n\n        // отключение всех звуков\n        this.gainNode.disconnect();\n        this.gainNode = this.ctx.createGain ? this.ctx.createGain(0) : this.ctx.createGainNode(0);\n        this.gainNode.connect(this.ctx.destination);\n    }\n}\n\nexport class UI{\n\n    constructor(){\n        this.linki = []; // save links\n        this.coordsMouseX = null;\n        this.coordsMouseY = null;\n    }\n\n    checkFrame(frame){ // check selected links\n\n        if ((this.coordsMouseX > frame.pos[0]) &&\n            (this.coordsMouseX < frame.pos[0] + frame.length[0]) &&\n            (this.coordsMouseY > frame.pos[1]) &&\n            (this.coordsMouseY < frame.pos[1] + frame.length[1])){\n    \n            return true;\n        }\n        return false;\n    }\n}\n\n\nexport class Game{\n\n    constructor(){\n\n        this.menu = 'menu';\n        this.death = 'wait';\n        this.rating = 'rating';\n        this.play = 'play';\n        this.startPlay = 'play-animation';\n        this.pauseGame = 'pause';\n\n        this.fade = 1;\n        this.loadingPercent = 0;\n\n        this.about ={\n            state: 'loading',\n            count: 0, // game count for win state\n            stageBossCount: 0,\n            stageExtraBossCount: 0,\n            stageNumber: 0,\n            lastTimeBull: 0, // time bullets\n            requstCount: 0,\n            lastTime: 0,\n            lastTimeColl: 0,\n        };\n    }\n\n    setRequstCount(i){\n\n        return this.about.requstCount = i;\n    }\n\n// ----------------switch states---------------\n\n    startGame(){\n\n        return this.about.state = this.play;\n    }\n\n    startGameAnimation(load, gamer, activeLink,sound){\n\n        activeLink.selectName = false;\n        this.music(sound); // music\n        this.updateGameStatus(gamer, load); // game state\n        gamer.setHealth(200); // update health\n    \n        return this.about.state = this.startPlay;\n    }\n\n    stopGame(){\n\n        return this.about.state = this.death;\n    }\n\n    ratingGame(activeLink){\n\n        activeLink.selectName = false;\n        return this.about.state = this.rating;\n    }\n\n    mainMenu(activeLink,sound){\n\n        if (sound){  sound.stopAll();}\n        activeLink.selectName = false;\n        return this.about.state = this.menu;\n    }\n\n    pause(activeLink,escape){\n    \n        if ((escape) || ((activeLink) &&\n            (activeLink.selectName))){\n\n            activeLink.selectName = false;\n            this.about.state = this.pauseGame;\n            return true;\n\n        } else return false;\n    }\n\n    spawnAndLvling(game, load, enemy, stageNumber,sound){\n\n        let CreateEnemy = enemy.createEnemy; // short\n        game.about.stageNumber = stageNumber; // get stageNumber\n    \n        let bossExtraSound = sound.effects.find(item => item.name === 'bossExtra');\n        let bathSound = sound.effects.find(item => item.name === 'deathBat');\n        let bossSound = sound.effects.find(item => item.name === 'deathBoss');\n    \n        if ((game.about.stageNumber) &&\n            (game.about.stageNumber === game.about.stageNumber)){\n    \n            if (game.about.stageNumber < 7){\n    \n                for (let i = 0; i < game.about.stageNumber; i++){\n    \n                    CreateEnemy(\n                        load,\n                        load.jsonData.essenceSettings.birds.health,\n                        load.jsonData.essenceSettings.birds.dmg,\n                        load.jsonData.essenceSettings.birds.name + i,\n                        load.jsonData.essenceSettings.birds.type,\n                        load.jsonData.essenceSettings.birds.x,\n                        load.jsonData.essenceSettings.birds.y,\n                        load.jsonData.essenceSettings.birds.sizeX,\n                        load.jsonData.essenceSettings.birds.sizeY,\n                        load.jsonData.essenceSettings.birds.frameCount,\n                        load.jsonData.essenceSettings.birds.frameArray,\n                        load.jsonData.enemyStartPosition.x,load.jsonData.enemyStartPosition.y,\n                        bathSound);\n                }\n    \n            } else if (game.about.stageNumber >= 10){\n    \n                for (let j = 0; j < game.about.stageExtraBossCount; j++){\n    \n                    CreateEnemy(\n                        load,\n                        load.jsonData.essenceSettings.bossExtra.health,\n                        load.jsonData.essenceSettings.bossExtra.dmg,\n                        load.jsonData.essenceSettings.bossExtra.name + j,\n                        load.jsonData.essenceSettings.bossExtra.type,\n                        load.jsonData.essenceSettings.bossExtra.x,\n                        load.jsonData.essenceSettings.bossExtra.y,\n                        load.jsonData.essenceSettings.bossExtra.sizeX,\n                        load.jsonData.essenceSettings.bossExtra.sizeY,\n                        load.jsonData.essenceSettings.bossExtra.frameCount,\n                        load.jsonData.essenceSettings.bossExtra.frameArray,\n                        load.jsonData.enemyStartPosition.x,load.jsonData.enemyStartPosition.y,\n                        bossExtraSound);\n    \n                }\n            }\n    \n            if ((game.about.stageNumber >= 7) && (game.about.stageNumber <= 15)){\n    \n                for (let i = 0; i < 5; i++){\n    \n                    CreateEnemy(\n                        load,\n                        load.jsonData.essenceSettings.birds.health,\n                        load.jsonData.essenceSettings.birds.dmg,\n                        load.jsonData.essenceSettings.birds.name + i,\n                        load.jsonData.essenceSettings.birds.type,\n                        load.jsonData.essenceSettings.birds.x,\n                        load.jsonData.essenceSettings.birds.y,\n                        load.jsonData.essenceSettings.birds.sizeX,\n                        load.jsonData.essenceSettings.birds.sizeY,\n                        load.jsonData.essenceSettings.birds.frameCount,\n                        load.jsonData.essenceSettings.birds.frameArray,\n                        load.jsonData.enemyStartPosition.x,load.jsonData.enemyStartPosition.y,\n                        bathSound);\n    \n                }\n    \n                for (let j = 0; j < game.about.stageBossCount; j++){\n    \n                    CreateEnemy(\n                        load,\n                        load.jsonData.essenceSettings.boss.health,\n                        load.jsonData.essenceSettings.boss.dmg,\n                        load.jsonData.essenceSettings.boss.name + j,\n                        load.jsonData.essenceSettings.boss.type,\n                        load.jsonData.essenceSettings.boss.x,\n                        load.jsonData.essenceSettings.boss.y,\n                        load.jsonData.essenceSettings.boss.sizeX,\n                        load.jsonData.essenceSettings.boss.sizeY,\n                        load.jsonData.essenceSettings.boss.frameCount,\n                        load.jsonData.essenceSettings.boss.frameArray,\n                        load.jsonData.enemyStartPosition.x,load.jsonData.enemyStartPosition.y,\n                        bossSound);\n    \n                }\n            } else if (game.about.stageNumber > 15){\n    \n                for (let i = 0; i < game.about.stageNumber - 5; i++){\n    \n                    CreateEnemy(\n                        load,\n                        load.jsonData.essenceSettings.bossExtra.health,\n                        load.jsonData.essenceSettings.bossExtra.dmg,\n                        load.jsonData.essenceSettings.bossExtra.name + j,\n                        load.jsonData.essenceSettings.bossExtra.type,\n                        load.jsonData.essenceSettings.bossExtra.x,\n                        load.jsonData.essenceSettings.bossExtra.y,\n                        load.jsonData.essenceSettings.bossExtra.sizeX,\n                        load.jsonData.essenceSettings.bossExtra.sizeY,\n                        load.jsonData.essenceSettings.bossExtra.frameCount,\n                        load.jsonData.essenceSettings.bossExtra.frameArray,\n                        load.jsonData.enemyStartPosition.x,load.jsonData.enemyStartPosition.y,\n                        bossExtraSound);\n    \n                }\n            }\n        }\n    }\n\n    updateGameStatus(gamer, load){ // new game\n\n        this.about.stageNumber = -1;\n        this.about.stageExtraBossCount = 1;\n        this.about.stageBossCount = -1;\n        this.about.count = -1;\n        this.fade = 2;\n        this.loadingPercent = 0;\n    \n        // update game statistic\n        gamer.countThrow = 0;\n        gamer.killCount = 0;\n        gamer.stat.points = 0;\n        gamer.SoundCount = 0;\n    \n        // update items and enemys on state\n        load.enemy = [];\n        gamer.bullets = [];\n        load.bullets = [];\n        load.coins = [];\n        load.eat = [];\n    \n        // sprite player start position\n        gamer.stat.sprite.size[0] = 34;\n        gamer.stat.sprite.pos[0] = 700;\n    \n        // gamers position update\n        gamer.move.pos[0] = gamer.move.startPos[0];\n        gamer.move.pos[1] = gamer.move.startPos[1];\n    \n    }\n\n    music(sound){\n\n        let delayForLoading = setTimeout( () => {\n            sound.effects.find(item => item.name === 'main').play(true,1);\n        },2500);\n    }\n\n\n\n}\n\n\nexport class Loader{ // for storage and loading files and datas\n\n    constructor(){\n        this.loadCount = 1; // load counter\n\n        this.jsonData = [];\n\n        // sprite storage for game filds\n        this.TextureStorage = [];\n        this.SpriteStorage = [];\n        this.SoundsStorage = [];\n\n        // storage enemy and bullets\n        this.enemy = [];\n        this.bullets = [];\n\n        // items storage\n        this.coins = [];\n        this.eat = [];\n        this.upgrade = [];\n\n        // records storage\n        this.startRecord = [];\n    }\n\n    // ---loading method---\n    textureCache(src){\n\n    return this.TextureStorage.push(src);\n    }\n\n    SpriteCache(src){\n\n    return this.SpriteStorage.push(src);\n    }\n\n    SoundCache(src){\n\n    return this.SoundsStorage.push(src);\n    }\n\n    loading(fileType, src, imageType){\n\n        if ((fileType === 'Image') && (imageType === 'texture')){\n    \n            const file = new Image();\n            file.src = src;\n            this.textureCache(file);\n        } else if ((fileType === 'Image') && (imageType === 'sprite')){\n    \n            const file = new Image();\n            file.src = src;\n            this.SpriteCache(file);\n        }\n    \n        if (fileType === 'Audio'){\n    \n            const file = new Audio(); // main game music 1\n            file.src = src;\n            this.SoundCache(file);\n        }\n    \n    }\n}\n\n\nexport class Player{\n\n    constructor(type, location){\n        let _that = this;\n\n        _that.gameTime = 0; // time in game\n        _that.countThrow = 0;\n        _that.killCount = 0;\n        _that.SoundCount = 0;\n        _that.bullets = []; // player bullets\n\n        _that.stat ={\n            name: 'player', // type\n            gamerName: null, // || defult generated random name\n            health: 200,\n            points: 0,\n            damage: 25,\n            whatDrop: false,\n            upgradeRate: false,\n            sprite: new Sprite('player', type.SpriteStorage[0],\n                [703, 0], [31, 34], 2, [0, 1]),\n            bullets: new Bullets(),\n        };\n        _that.move ={\n            speeds: 200,\n            pos: [location.settings.width / 2, location.settings.height / 2],\n            startPos: [385, -120], // position for start animation\n            animationPos: [location.settings.width / 2, location.settings.height / 2],\n        };\n    }\n\n    setHealth(count){\n\n        return this.stat.health = count;\n    };\n\n    GameOver(gamer, game, load,sound){\n\n        if (gamer.stat.health <= 0){\n            \n            load.enemy = []; // cleaer enemy\n    \n            if (!(gamer.SoundCount) && (game.about.stageNumber < 20)){\n                \n                sound.effects.find(item => item.name === 'gameOver').play(false,0.5);\n                gamer.SoundCount++;\n            }\n            game.stopGame();\n        }\n    }\n\n    Win(gamer, game, load){\n\n        if (!(gamer.stat.health < 0)){\n    \n            if (!(load.enemy.length) && !(game.about.count)){\n    \n                game.about.stageNumber++;\n                game.about.count++;\n            }\n        }\n    }\n\n\n}\n\nexport class Bullets{\n\n    constructor(){\n        this.lastFire = 0;\n        this.i = 50;\n        this.weapons ={\n            speed: 320,\n            active: false,\n        };\n    }\n\n    useSkill(load, gamer, ui,sound){\n\n        // * Bull\n        if (Date.now() - this.lastFire > 300){ // delay\n    \n            gamer.countThrow++; // counter\n    \n            load.bullets.push({\n                pos:{\n                    x: gamer.move.pos[0],\n                    y: gamer.move.pos[1]\n                },\n                direction: new Vector(ui.coorddX, ui.coorddY).normalize(),\n                degree: 0,\n                sprite: this.createBullets(load), // bullets sprite\n                siz: [15, 32], // sprite size\n            });\n            sound.effects.find(item => item.name === 'shot').play(false,0.8);\n    \n            this.lastFire = Date.now();\n    \n    \n            return this.weapons.active = true;\n        }\n    }\n\n    createBullets(type){\n\n        // bull for player\n        return new Sprite('bull', type.SpriteStorage[0],\n            [192.5, 31], [32, 36], 0);\n    }\n    \n    createBulletsCustom(type, spriteCoordX, spriteCoordY){\n    \n        // bull for enemys\n        return new Sprite('bull2', type.SpriteStorage[0],\n            [spriteCoordX, spriteCoordY], [22, 34], 0);\n    }\n\n\n};\n\n\n\nexport class Enemy{\n\n\n    constructor(){\n        this.enemySpeedX = 1 * getRandomPull(); // start random position X\n        this.enemySpeedY = 1 * getRandomPull(); // start random position X\n        this.DeathTimer = null;\n\n        this.stat ={\n            name: '',\n            type: '',\n            collision: false,\n            getDmg: false,\n            health: null,\n            damage: null,\n            sprite: null, // for sprite\n            sizes: [32, 20], // sprite size\n            onDeath: false,\n        };\n\n        this.bull ={\n            bullStorage: [], // enemys bulls \n            speed: null,\n            speedY: null,\n            pos: [0, 0],\n            on: false, // active || not active\n            lastBull: null, // delay\n        }\n\n        this.move ={\n            speeds: 10, // bullets enemys speed\n            pos: [0, 0], // bullets position\n            randomMove: getRandomPull(), // random flight\n        };\n    }\n\n    createEnemy(load, hp, damage, name, type,\n                spriteX, spriteY, spriteW, spriteH,\n                frameCount, frameGo, posX, posY, music){\n\n        let spriteEnemy = new Enemy(load, this, hp, damage, name,\n        type, spriteX, spriteY,\n        spriteW, spriteH,\n        frameCount, frameGo,\n        music);\n\n        // * Set settings enemy\n        spriteEnemy.stat.name = name;\n        spriteEnemy.stat.type = type;\n        spriteEnemy.stat.health = hp;\n        spriteEnemy.stat.damage = damage;\n        spriteEnemy.move.pos[0] = posX * getRandom();\n        spriteEnemy.move.pos[1] = posY * getRandom();\n        spriteEnemy.sound = music;\n\n        // ----Start moving position-----\n        if ((spriteEnemy.stat.type === 'boss' ||\n        spriteEnemy.stat.type === 'bossExtra') &&\n        (spriteEnemy.enemySpeedY < 0)){\n\n        spriteX = 452;\n        }\n\n        if ((spriteEnemy.stat.type === 'boss' ||\n        spriteEnemy.stat.type === 'bossExtra') &&\n        (spriteEnemy.enemySpeedY > 0)){\n\n        spriteX = 964;\n        }\n\n        // * Set sprite\n        spriteEnemy.stat.sprite = new Sprite('enemy', load.SpriteStorage[0],\n        [spriteX, spriteY], [spriteW, spriteH],\n        frameCount, frameGo);\n\n        // * Add in enemy array\n        load.enemy.push(spriteEnemy);\n    }\n}\n\n\n\nexport class Sprite{\n\n    constructor(name, url, pos, size, speed, frames, dir, once){\n    this.Saveframes = null;\n    this.name = name;\n    this.pos = pos;\n    this.size = size; // size one frame\n    this.speed = speed; // animation speed\n    this.frames = frames; //  array animation frame from start to end\n    this.index = 0;\n    this.url = url; // путь к изображению\n    this.once = once; // once:true if need one cycle animation\n    this.x = null;\n    this.y = null;\n    }\n\n    update(time){\n\n        this.index += this.speed * time;\n    }\n\n    render(){\n\n        let frame;\n    \n        if (this.speed > 0){\n    \n            let max = this.frames.length;\n            let idx;\n    \n            if (this.index){\n    \n                idx = Math.floor(this.index);\n            }\n    \n            frame = this.frames[idx % max];\n    \n            if (this.once && idx >= max){\n    \n                this.once = true;\n                return;\n            }\n    \n        } else frame = 0;\n    \n        this.x = this.pos[0];\n        this.y = this.pos[1];\n        this.Saveframes = frame;\n    \n        return this.x += frame * this.size[0];\n    }\n};\n\nexport class Items{\n\n    constructor(){\n        let _that = this; // save ctx\n\n        this.name = null;\n        this.sprite = null;\n        this.pos = [];\n\n        this.settingsItems = {\n\n            get name(){ // get items name\n                return _that.name;\n            },\n            set name(valueName){ // set items name\n                return _that.name = valueName;\n            },\n            get sprite(){ // get item sprite\n                return _that.sprite;\n            },\n        }\n    }\n\n    lucky(percent){\n        return Math.random() < percent\n    }\n\n    setSprite(load, cordSpriteX, cordsSpriteY,\n            sizeSpriteX, sizeSpriteY){\n    \n        return this.sprite = new Sprite(this.name, load.SpriteStorage[0],\n            [cordSpriteX, cordsSpriteY], [sizeSpriteX, sizeSpriteY]);\n    }\n}\n\n\nfunction getRandomPull(){\n\n    // -----get random bullets dir-----\n    let arr = [-1.2, -1, 1, 1.2];\n    let rand = Math.floor(Math.random() * arr.length);\n    return arr[rand];\n}\n\nfunction getRandom(){\n\n    // -----get random enemy position-----\n    let arr = [0.3, 0.6, 0.8, 0.9, 1.2];\n    let rand = Math.floor(Math.random() * arr.length);\n    return arr[rand];\n}\n\n","export default class Draw {\n\n    constructor(){\n        let _that = this;\n\n        this.blink = 1;\n        this.scaleValue = 1;\n        this.frameBlink = true;\n        this.view = 'xl';\n        this.viewMode = 'full';\n        this.viewDesktop = 'none';\n\n        _that.settings = {\n            width: _that.width(), // canvas w\n            height: _that.height(), // canvas h\n            textureW: _that.width(), // texture weight\n            textureH: _that.height(), // texture weight\n            openGate: 0, // end gate possition\n            countModal: 0, // counter modal window in game\n            drawInX: 0, // position X to draw in main ctx\n            drawInY: 0, // position Y to draw in main ctx\n            mouse: 0\n        };\n\n        _that.bullets = {\n            //---for player---\n            spriteListBulletsPosition: [106, 0],\n            spritePlayerSizeW: 14,\n            spritePlayerSizeH: 32,\n        };\n\n        _that.items = {\n            spriteItemSize: [15, 15]\n        };\n\n        _that.pause = {\n            RectPause: [this.settings.width / 6, 40],\n            RectPauseSize: [this.settings.width / 1.5, this.settings.height / 1.4],\n            TextStageName: [this.settings.width / 2.1, 100],\n            Notification: [this.settings.width / 2 - 5, 135],\n            Menu: [this.settings.width / 2.1, 450],\n            pauseLink: [350,420],\n            sizeLinkPause: [100, 30]\n        }\n\n        _that.menu = {\n            background: null,\n            TitleGame: [this.settings.width / 2, 100],\n            play: [this.settings.width / 2, this.settings.height / 2.5],\n            rating: [this.settings.width / 2, this.settings.height / 1.8],\n            myName: [40, this.settings.height - 20],\n            version: [this.settings.width - 40, this.settings.height - 20],\n            sizeLinkPlay: [200,80],\n            coordsLinkRating: [ (this.settings.width / 2) - 120, (this.settings.height / 1.8) - 40],\n            sizeLinkRating: [250, 80]\n        }\n\n        _that.rating = {\n            TitleGame: [this.settings.width / 2, 50],\n            return: [this.settings.width / 2, 165],\n            StrokeRectCoords: [this.settings.width / 9.4, 200],\n            StrokeRectSize: [this.settings.width / 1.3, this.settings.height / 1.8],\n            RectCoords: [this.settings.width / 9.4, 200],\n            RectSize: [this.settings.width / 1.3, this.settings.height / 1.8],\n            TitleName: [this.settings.width / 8, 235],\n            TitlePoints: [this.settings.width / 1.45, 235],\n            ratingListX: [this.settings.width / 8, this.settings.height - 50],\n            ratingListPointsX: [this.settings.width / 8, this.settings.height - 50],\n            returnLinkCoords: [(this.settings.width / 2) - 60, 110],\n            returnLinkSize: [ 110, 70]\n        }\n\n        _that.gameOver = {\n            TitleCoords: [this.settings.width / 2, 100],\n            win: [this.settings.width / 2, 100],\n            Points: [this.settings.width / 2, 150],\n            Throw: [this.settings.width / 2, 200],\n            killCount: [this.settings.width / 2, 250],\n            menu: [this.settings.width / 2.02, 450],\n            menuLinkCoords: [350,430],\n            menuLinkSize: [110, 30]\n        }\n\n        _that.playGame = {\n            spriteTextureBorder: [5, 610],\n            spriteTexture: [5, 5],\n            gamePanelCoords: [0, 542],\n            gamePanelSize: [this.settings.width, 80],\n            hpTextPosition: [this.settings.width / 3, 588],\n            hpBarSize: [375, 588],\n            hpBarBoorderCoords: [this.settings.width / 2.7, 570],\n            hpBarBoorderSize: [204, 25],\n            PointsCoords: [-12, 20],\n            PointsSize: [45, 45],\n            PointsGetCoords: [0, 560],\n            PointsGetSize: [35, 35],\n            PointsTextCoords: [40, 592],\n            ModalTextWASD: [this.settings.width / 2, 35],\n            ModalPress: [this.settings.width / 2, 65],\n            Audio: [this.settings.width, 460],\n            pauseButton: [this.settings.width - 40, this.settings.height - 48],\n            pauseLinkSize: [50, 50]\n        }\n\n        _that.loading = {\n            loadingText: [this.settings.width / 4.7, this.settings.height / 2],\n        }\n\n\n\n        _that.drawBuffer = {\n            canvasBuffer: null,\n            ctxBuffer: null\n        }; // buffer canvas\n        _that.getCanvas = {\n            canvas: document.getElementById('arena'),\n        }; // get canvas in app\n        _that.getCtx = {\n            ctx: _that.getCanvas.canvas.getContext('2d'),\n        }; // get ctx in app\n    }\n\n    render() {\n        // -----All render-----\n    \n        this.getCtx.ctx.drawImage(this.drawBuffer.canvasBuffer,\n                                  this.settings.drawInX, this.settings.drawInY,\n                                  this.settings.width, this.settings.height);\n    \n        this.drawBuffer.ctxBuffer.restore();\n    }\n\n    renderEnemys(gamer) {\n\n        if (gamer.stat.name !== 'player') {\n    \n            gamer.stat.sprite.x = gamer.stat.sprite.render(); // render sprite update\n    \n            // HP enemys\n            this.drawBuffer.ctxBuffer.fillStyle = 'red';\n            this.drawBuffer.ctxBuffer.font = 'bold 12px Aria';\n            this.drawBuffer.ctxBuffer.fillText(gamer.stat.health + 'HP',\n                                               gamer.move.pos[0] - 5,\n                                               gamer.move.pos[1] - 5);\n    \n            // ---render enemys---\n            this.drawBuffer.ctxBuffer.drawImage(gamer.stat.sprite.url,\n                                                gamer.stat.sprite.x,\n                                                gamer.stat.sprite.pos[1],\n                                                gamer.stat.sprite.size[0],\n                                                gamer.stat.sprite.size[1],\n                                                gamer.move.pos[0], gamer.move.pos[1],\n                                                gamer.stat.sprite.size[1],\n                                                gamer.stat.sprite.size[1]);\n    \n        }\n    }\n\n    renderItems(load) {\n\n\n        load.coins.forEach((item) => {\n    \n            if (item.lucky) {\n                item.sprite.x = item.sprite.render(); // render sprite coins\n                // render coins\n                this.drawBuffer.ctxBuffer.drawImage(item.settingsItems.sprite.url,\n                                                    item.sprite.x, item.sprite.pos[1],\n                                                    item.sprite.size[0], item.sprite.size[1],\n                                                    item.pos[0], item.pos[1],\n                                                    this.items.spriteItemSize[0],\n                                                    this.items.spriteItemSize[1]);\n            }\n        });\n    \n        load.eat.forEach((item) => {\n    \n            if (item.lucky) {\n    \n                item.sprite.x = item.sprite.render(); // render sprite eat\n                this.drawBuffer.ctxBuffer.drawImage(item.settingsItems.sprite.url,\n                                                    item.sprite.x, item.sprite.pos[1],\n                                                    item.sprite.size[0], item.sprite.size[1],\n                                                    item.pos[0], item.pos[1],\n                                                    this.items.spriteItemSize[0],\n                                                    this.items.spriteItemSize[1]);\n            }\n        });\n    \n        load.upgrade.forEach((item) => {\n    \n            if (item.lucky) {\n    \n                item.sprite.x = item.sprite.render(); // render sprite eat\n    \n                this.drawBuffer.ctxBuffer.drawImage(item.settingsItems.sprite.url,\n                                                    item.sprite.x, item.sprite.pos[1],\n                                                    item.sprite.size[0], item.sprite.size[1],\n                                                    item.pos[0], item.pos[1],\n                                                    this.items.spriteItemSize[0],\n                                                    this.items.spriteItemSize[1]);\n            }\n        });\n    }\n\n    renderPlayer(gamer, game) {\n\n        if (game.fade <= 0) {\n    \n            gamer.stat.sprite.x = gamer.stat.sprite.render(); // update sprite player\n    \n            this.drawBuffer.ctxBuffer.drawImage(gamer.stat.sprite.url,\n                                                gamer.stat.sprite.x,\n                                                gamer.stat.sprite.pos[1],\n                                                gamer.stat.sprite.size[0],\n                                                gamer.stat.sprite.size[1],\n                                                gamer.move.pos[0], gamer.move.pos[1],\n                                                gamer.stat.sprite.size[1],\n                                                gamer.stat.sprite.size[1]);\n        }\n    }\n\n    fadeIn(game, load) {\n\n        this.drawBuffer.ctxBuffer.restore();\n        this.drawBuffer.ctxBuffer.save();\n    \n        let cof = (this.settings.width / 2) / game.loadingPercent;\n        let perc = 100 / cof;\n    \n        this.drawBuffer.ctxBuffer.globalAlpha = game.fade;\n    \n        this.drawBuffer.ctxBuffer.drawImage(load.SpriteStorage[1],\n                                            this.settings.drawInX,\n                                            this.settings.drawInX,\n                                            this.settings.width,\n                                            this.settings.height);\n    \n        this.drawBuffer.ctxBuffer.strokeStyle = 'gold';\n        this.drawBuffer.ctxBuffer.lineWidth = 2;\n        this.drawBuffer.ctxBuffer.strokeRect(this.settings.width / 4, this.settings.height / 2.5,\n                                             this.settings.width / 2,\n                                             this.settings.height / 6);\n    \n        this.drawBuffer.ctxBuffer.fillStyle = 'brown';\n        this.drawBuffer.ctxBuffer.fillRect(this.settings.width / 4, this.settings.height / 2.5,\n                                           game.loadingPercent, this.settings.height / 6);\n    \n        this.drawBuffer.ctxBuffer.font = '30px PIXI';\n        this.drawBuffer.ctxBuffer.textAlign = 'center';\n        this.drawBuffer.ctxBuffer.fillStyle = 'white';\n    \n        this.drawBuffer.ctxBuffer.fillText(`Rendering... ${perc.toFixed(1)} %`,\n                                            this.settings.width / 2,\n                                            this.settings.height / 2);\n    \n        (game.loadingPercent < this.settings.width / 2) && (game.loadingPercent += 2.5);\n        (game.loadingPercent >= this.settings.width / 2) && (game.fade -= 0.05);\n    \n        this.drawBuffer.ctxBuffer.restore();\n    }\n\n    renderEnemyBulls(bull) {\n\n        let bulls = bull.bull; // short write\n        if (!(bull.bull.on) || !(bulls.bullStorage.length)) return;\n    \n        this.drawBuffer.ctxBuffer.restore(); // restove ctx\n    \n        this.drawBuffer.ctxBuffer.drawImage(bull.bull.bullStorage[0].url,\n                                            bull.bull.bullStorage[0].pos[0],\n                                            bull.bull.bullStorage[0].pos[1],\n                                            bull.bull.bullStorage[0].size[0],\n                                            bull.bull.bullStorage[0].size[1],\n                                            bulls.pos[0], bulls.pos[1],\n                                            this.items.spriteItemSize[0],\n                                            this.items.spriteItemSize[1]);\n    \n        this.render(); // render bullets\n        this.drawBuffer.ctxBuffer.restore(); // restove ctx\n    }\n\n    renderBulls(bull, load, gamer) {\n        // translate and rotate for renders bullets in corect dir\n    \n        if (!(load.bullets.length)) return;\n    \n        this.drawBuffer.ctxBuffer.setTransform(1, 0, 0, 1, 0, 0);\n        this.drawBuffer.ctxBuffer.save();\n    \n        this.drawBuffer.ctxBuffer.translate(bull.pos.x, bull.pos.y);\n        this.drawBuffer.ctxBuffer.rotate((bull.degree * 2) * (Math.PI / 180));\n    \n        this.drawBuffer.ctxBuffer.drawImage(bull.sprite.url,\n            bull.sprite.pos[0],\n            bull.sprite.pos[1],\n            bull.sprite.size[0], bull.sprite.size[1],\n            this.settings.drawInX, this.settings.drawInY,\n            25, 27);\n        bull.degree++;\n        this.drawBuffer.ctxBuffer.restore();\n    }\n\n    renders(gamer, load, game, UserInterface,sound) {\n\n        // ---render gameOver---\n        ((game.about.state === 'play') && (gamer.stat.health <= 0)) &&\n                                    (gamer.GameOver(gamer, game, load,sound));\n    \n        (game.about.state === 'play' || game.about.state === 'play-animation') &&\n                                            this.renderMouse(load, UserInterface);\n    \n        // ---render pause menu---\n        ((game.about.state === 'wait') && (this.gameOverView(gamer, UserInterface, game)));\n        // --render rating---\n        ((game.about.state === 'rating') && (this.drawRatingList(load, gamer, UserInterface, gamer)));\n    \n        // ---if game state play--\n        if ((game.about.state === 'play')) {\n            load.enemy.forEach((item) => { // render all enemys and items\n    \n                this.renderEnemys(item);\n                this.renderItems(load);\n    \n            });\n    \n            this.renderPlayer(gamer, game);\n    \n            load.bullets.forEach((item) => { // render player bullets\n    \n                this.renderBulls(item, load, gamer);\n    \n            });\n    \n            load.enemy.forEach((item) => { // render enemys bullets\n    \n                this.renderEnemyBulls(item);\n    \n            });\n        }\n    \n        if (game.about.state === 'play-animation') { // render start animation state\n    \n            (game.fade > 0) && (this.fadeIn(game, load));\n            (game.fade <= 0) && (this.renderPlayer(gamer, game));\n    \n        }\n    \n        this.pauseMenuView(game, gamer, UserInterface, load); // render pause menu\n    \n        ((game.about.state === 'menu') && (UserInterface)) && (this.DrawMenu(load, game, UserInterface));\n    \n        if ((((game.about.state === 'pause')) && (UserInterface))) {\n    \n            (UserInterface.linki[0].selectName) && (game.about.state = 'menu');\n            (UserInterface.linki[0].selectName) && (this.DrawMenu(load, game, UserInterface));\n        }\n    \n        this.render(); // all render in main canvas\n    }\n\n    pauseMenuView(game, gamer, UserInterface, load) {\n\n        if (game.about.state === 'pause') {\n    \n            let CTX = this.drawBuffer.ctxBuffer; // short write\n    \n            CTX.restore();\n            CTX.save();\n            CTX.fillStyle = 'black';\n            CTX.globalAlpha = 0.9;\n    \n            this.drawBuffer.ctxBuffer.drawImage(load.SpriteStorage[1],\n                this.pause.RectPause[0], this.pause.RectPause[1],\n                this.pause.RectPauseSize[0], this.pause.RectPauseSize[1]);\n    \n            CTX.strokeStyle = 'gold';\n            CTX.globalAlpha = 0.9;\n    \n            CTX.strokeRect(this.pause.RectPause[0] + 10, this.pause.RectPause[1] + 10,\n                           this.pause.RectPauseSize[0] - 20, this.pause.RectPauseSize[1] - 20);\n    \n            CTX.fillStyle = 'yellow';\n            CTX.textAlign = 'center';\n            CTX.shadowColor = 'rgb(50,50,50)';\n            CTX.shadowOffsetX = 2;\n            CTX.shadowOffsetY = 3;\n            CTX.font = '50px PIXI';\n            CTX.fillText('PAUSE', this.pause.TextStageName[0], this.pause.TextStageName[1]);\n    \n            CTX.fillStyle = 'gold';\n            CTX.shadowColor = 'rgb(50,80,50)';\n            CTX.textAlign = 'center';\n            CTX.shadowOffsetX = 2;\n            CTX.shadowOffsetY = 3;\n            CTX.font = '25px PIXI';\n            CTX.fillText('If you leave the game, all saves will be lost.', this.pause.Notification[0],\n                         this.pause.Notification[1]);\n    \n            CTX.restore();\n            CTX.save();\n    \n            CTX.fillStyle = 'yellow';\n            CTX.shadowColor = 'brown';\n            CTX.textAlign = 'center';\n            CTX.font = '35px PIXI';\n    \n            CTX.fillText('Throws: ' + gamer.countThrow, this.gameOver.Throw[0] - 20,\n                         this.gameOver.Throw[1]);\n            CTX.fillText('Kills: ' + gamer.killCount, this.gameOver.killCount[0] - 20,\n                         this.gameOver.killCount[1] + 10);\n    \n            if (UserInterface.checkFrame(UserInterface.linki[0])) { // menu link\n    \n                CTX.fillStyle = UserInterface.linki[0].selectColor;\n            } else {\n    \n                CTX.fillStyle = UserInterface.linki[0].color;\n            }\n    \n            CTX.shadowOffsetX = 2;\n            CTX.shadowOffsetY = 3;\n            CTX.textAlign = 'center';\n            CTX.font = '40px PIXI';\n            CTX.fillText('MENU', this.pause.Menu[0], this.pause.Menu[1]);\n            this.render(); // all render\n        } else {\n    \n            this.drawBuffer.ctxBuffer.clearRect(0, 0, this.settings.width, this.settings.health);\n        }\n    }\n\n    DrawMenu(load, game, UserInterface, gamer) {\n\n        let CTX = this.drawBuffer.ctxBuffer; // short write\n    \n        this.menu.background = CTX.createPattern(load.SpriteStorage[3], 'repeat');\n        CTX.fillRect(this.settings.drawInX, this.settings.drawInY,\n                     this.settings.width, this.settings.height);\n    \n        CTX.fillStyle = this.menu.background;\n    \n        CTX.fillRect(this.settings.drawInX, this.settings.drawInY,\n                     this.settings.width, this.settings.height);\n    \n        CTX.fillStyle = 'rgb(255,215,0)';\n        CTX.shadowColor = 'brown';\n        CTX.shadowBlur = 3;\n        CTX.textAlign = \"center\";\n        CTX.textBaseline = \"middle\";\n        CTX.shadowOffsetX = 6;\n        CTX.shadowOffsetY = 7;\n        CTX.font = 'bold 100px PIXI';\n    \n        CTX.globalAlpha = this.blink;\n    \n        (this.blink <= 0.5) && (this.frameBlink = false);\n        (this.blink >= 1) && (this.frameBlink = true);\n    \n        ((this.frameBlink) && (this.blink > 0.5)) && (this.blink -= 0.01);\n        ((!(this.frameBlink)) && (this.blink != 1)) && (this.blink += 0.01);\n    \n        CTX.fillText('ARENA', this.menu.TitleGame[0], this.menu.TitleGame[1]);\n        // --reset shadow--\n        CTX.shadowOffsetX = 0;\n        CTX.shadowOffsetY = 0;\n        CTX.globalAlpha = 1;\n    \n    \n        CTX.shadowColor = 'black';\n        CTX.font = '100px PIXI';\n    \n        (UserInterface.checkFrame(UserInterface.linki[1])) &&\n        (CTX.fillStyle = UserInterface.linki[1].selectColor);\n    \n        !(UserInterface.checkFrame(UserInterface.linki[1])) &&\n        (CTX.fillStyle = UserInterface.linki[1].color);\n    \n        CTX.fillText('PLAY', this.menu.play[0], this.menu.play[1]);\n    \n        (UserInterface.checkFrame(UserInterface.linki[2])) &&\n        (CTX.fillStyle = UserInterface.linki[2].selectColor);\n    \n        !(UserInterface.checkFrame(UserInterface.linki[2])) &&\n        (CTX.fillStyle = UserInterface.linki[2].color);\n    \n    \n        CTX.fillText('RATING', this.menu.rating[0], this.menu.rating[1]);\n    \n        if (this.viewMode === 'demo') {\n    \n            CTX.fillStyle = 'lightblue';\n            CTX.font = '20px bold Aria';\n    \n            CTX.fillText('This is a demo game.',\n                this.settings.width / 2, this.settings.height - 120);\n    \n            CTX.fillText(`Your device doesn\\'t support :(`,\n                this.settings.width / 2, this.settings.height - 100);\n    \n    \n            CTX.fillText(`Need width 760px and more for full.`,\n                this.settings.width / 2, this.settings.height - 80);\n    \n        }\n    \n        CTX.fillStyle = 'white';\n        CTX.font = 'bold 14px Arial';\n        CTX.fillText('© 2019', this.menu.myName[0], this.menu.myName[1]);\n    \n        CTX.fillStyle = 'white';\n        CTX.font = 'bold 14px Arial';\n        CTX.fillText('v0.0.5', this.menu.version[0], this.menu.version[1]);\n    }\n\n    drawRatingList(load, game, UserInterface) {\n\n        let CTX = this.drawBuffer.ctxBuffer; // short write\n        let speedText = null; // for records text cycle\n        let posTxtY = null; // for records text cycle\n        let RecordsY = null;\n        let length = null; // for records text cycle\n        let frameCheck = null;\n        let checkMobile = (this.view === 'mobile') ? true : false;\n    \n        !(checkMobile) && (length = (load.startRecord.length < 8) ?\n            load.startRecord.length : 8); // length records array\n    \n        (checkMobile) && (length = (load.startRecord.length < 5) ?\n            load.startRecord.length : 5);\n    \n        !(checkMobile) && (RecordsY = 275); // start draw position\n        (checkMobile) && (RecordsY = Math.floor(350 / 1.5));\n        speedText = 32; // i\n    \n        CTX.restore();\n        CTX.save();\n        CTX.textAlign = \"center\";\n        CTX.textBaseline = \"middle\";\n    \n        CTX.fillStyle = this.menu.background;\n        CTX.fillRect(this.settings.drawInX, this.settings.drawInY,\n                     this.settings.width, this.settings.height);\n    \n        CTX.fillStyle = this.menu.background;\n        CTX.fillRect(this.settings.drawInX, this.settings.drawInY,\n                     this.settings.width, this.settings.height);\n    \n        CTX.fillStyle = 'rgb(255,215,0)';\n        CTX.shadowColor = 'brown';\n        CTX.shadowBlur = 3;\n        CTX.shadowOffsetX = 6;\n        CTX.shadowOffsetY = 7;\n        !(checkMobile) ? CTX.font = 'bold 80px PIXI': CTX.font = 'bold 60px PIXI';\n    \n        (checkMobile) && (this.rating.TitleGame[1] = 40);\n    \n        (checkMobile) &&\n        (CTX.fillText('THE BEST', this.rating.TitleGame[0], this.rating.TitleGame[1]));\n    \n        !(checkMobile) &&\n        (CTX.fillText('THE BEST', this.rating.TitleGame[0], this.menu.TitleGame[1]));\n    \n        CTX.restore();\n        CTX.save();\n    \n        frameCheck = UserInterface.checkFrame(UserInterface.linki[3]);\n    \n        (frameCheck) && (CTX.fillStyle = UserInterface.linki[3].selectColor);\n    \n        !(frameCheck) && (CTX.fillStyle = UserInterface.linki[3].color);\n    \n        !(checkMobile) ? CTX.font = 'bold 50px PIXI': CTX.font = 'bold 40px PIXI';\n        (checkMobile) && (this.rating.return[1] = 120);\n    \n        CTX.fillText('RETURN', this.rating.return[0], this.rating.return[1]);\n        CTX.strokeStyle = 'yellow';\n        (checkMobile) && (this.rating.StrokeRectCoords[1] = 140);\n    \n        CTX.strokeRect(this.rating.StrokeRectCoords[0],\n                       this.rating.StrokeRectCoords[1],\n                       this.rating.StrokeRectSize[0],\n                       this.rating.StrokeRectSize[1]);\n    \n        CTX.fillStyle = 'black';\n        (checkMobile) && (this.rating.RectCoords[1] = 140);\n        CTX.fillRect(this.rating.RectCoords[0], this.rating.RectCoords[1],\n                    this.rating.RectSize[0], this.rating.RectSize[1]);\n    \n    \n        CTX.textAlign = \"left\";\n        CTX.font = 'bold 45px PIXI';\n        CTX.fillStyle = 'yellow';\n    \n        !(checkMobile) && (CTX.fillText('NAME', this.rating.TitleName[0],\n                                    this.rating.TitleName[1]));\n    \n        (checkMobile) && (CTX.textAlign = 'center');\n        (checkMobile) &&  (CTX.fillText('NAME', this.settings.width / 2.1, this.rating.TitleName[1] / 1.3));\n    \n    \n        if ( !(checkMobile) || this.viewDesktop === 'half-half') {\n    \n            CTX.fillStyle = 'yellow';\n            CTX.fillText('POINTS', this.rating.RectSize[0] - 70, this.rating.TitlePoints[1]);\n    \n        }\n    \n        CTX.font = 'bold 40px PIXI';\n        CTX.fillStyle = 'yellow';\n    \n        for (let i = 0; i < length; i++) {\n    \n            ( (checkMobile) && (CTX.textAlign = 'left'));\n                this.rating.ratingListX[0] = this.rating.RectCoords[0] + 10;\n    \n    \n            CTX.fillText(`${i+1}. ` + load.startRecord[load.startRecord.length - (i + 1)].name,\n                this.rating.ratingListX[0], RecordsY);\n    \n            if (!(checkMobile) || this.viewDesktop === 'half-half') {\n    \n                CTX.fillText(load.startRecord[load.startRecord.length - (i + 1)].points,\n                    this.rating.RectSize[0] - 50, RecordsY);\n    \n            }\n    \n            RecordsY += speedText;\n        }\n    \n    \n        CTX.textAlign = \"center\";\n        CTX.fillStyle = 'white';\n        CTX.font = 'bold 14px Arial';\n        CTX.restore();\n        CTX.save();\n    \n        CTX.fillText('© 2019', this.menu.myName[0], this.menu.myName[1]);\n    \n        CTX.fillStyle = 'white';\n        CTX.font = 'bold 14px Arial';\n        CTX.fillText('v0.0.5', this.menu.version[0], this.menu.version[1]);\n    }\n\n    gameOverView(gamer, UserInterface, game) {\n\n        this.drawBuffer.ctxBuffer.save();\n        let CTX = this.drawBuffer.ctxBuffer; // short write\n        let checkLink = UserInterface.checkFrame(UserInterface.linki[4]);\n    \n        CTX.fillStyle = 'grey';\n        CTX.globalAlpha = 0.8;\n        CTX.fillRect(0, 0, this.settings.width, this.settings.height - 75);\n    \n        CTX.fillStyle = 'red';\n        CTX.textAlign = 'center';\n        CTX.font = '100px PIXI';\n    \n        ((game.about.stageNumber >= 20) && (gamer.stat.health > 0)) &&\n        (CTX.fillText('W I N', this.gameOver.win[0], this.gameOver.win[1]));\n    \n        (gamer.stat.health <= 0) &&\n        CTX.fillText('GAME OVER', this.gameOver.TitleCoords[0], this.gameOver.TitleCoords[1]);\n    \n        CTX.shadowColor = 'brown';\n        CTX.shadowOffsetX = 2;\n        CTX.shadowOffsetY = 3;\n        CTX.font = '40px PIXI';\n        CTX.fillStyle = 'yellow';\n        CTX.shadowColor = 'brown';\n    \n        CTX.fillText('Points: ' + gamer.stat.points, this.gameOver.Points[0],\n                    this.gameOver.Points[1]);\n    \n        CTX.fillText('Throws: ' + gamer.countThrow, this.gameOver.Throw[0],\n                    this.gameOver.Throw[1]);\n    \n        CTX.fillText('Kills: ' + gamer.killCount, this.gameOver.killCount[0],\n                    this.gameOver.killCount[1]);\n    \n        (checkLink) && (CTX.fillStyle = UserInterface.linki[4].selectColor);\n        !(checkLink) && (CTX.fillStyle = UserInterface.linki[4].color);\n    \n        CTX.font = '50px PIXI';\n        CTX.fillText('MENU', this.gameOver.menu[0], this.gameOver.menu[1]);\n    \n        this.render(); // render game over\n    }\n\n    building(load, gamer, game) {\n\n        // ---get main canvas---\n        this.drawBuffer.canvasBuffer = document.createElement('canvas');\n        this.drawBuffer.ctxBuffer = this.drawBuffer.canvasBuffer.getContext('2d');\n        this.drawBuffer.canvasBuffer.setAttribute('width', this.settings.width);\n        this.drawBuffer.canvasBuffer.setAttribute('height', this.settings.height);\n    \n        let CTX = this.drawBuffer.ctxBuffer; // short write\n    \n            CTX.drawImage(load.TextureStorage[0],\n                this.playGame.spriteTextureBorder[0], this.playGame.spriteTextureBorder[1],\n                this.settings.textureW, this.settings.textureH,\n                this.settings.drawInX, this.settings.drawInY,\n                this.settings.textureW, this.settings.textureH);\n    \n            CTX.drawImage(load.TextureStorage[0],\n                this.playGame.spriteTexture[0], this.playGame.spriteTexture[1],\n                this.settings.textureW, this.settings.textureH,\n                this.settings.drawInX, this.settings.drawInY,\n                this.settings.textureW, this.settings.textureH);\n    \n    \n            //-----GATES----\n            // gate 1\n    \n            CTX.drawImage(load.SpriteStorage[0], -14, 190, 85, 65, 109, 0, 95, 65);\n    \n            // gate 2\n            if ((game.about.state === 'play-animation')) {\n    \n                (this.settings.openGate !== -50) && (this.settings.openGate--);\n                CTX.drawImage(load.SpriteStorage[0], -14, 190, 85, 65, 349, this.settings.openGate, 95, 65);\n    \n            } else {\n    \n                (this.settings.openGate !== 0) && (this.settings.openGate++);\n                CTX.drawImage(load.SpriteStorage[0], -14, 190, 85, 65, 349, this.settings.openGate, 95, 65);\n    \n            }\n    \n            // gate 3\n            CTX.drawImage(load.SpriteStorage[0], -14, 190, 85, 65, 588, 0, 95, 65);\n    \n        // Game panel\n        let panel = this.drawBuffer.ctxBuffer.createLinearGradient(0, 0, 170, 0);\n        panel.addColorStop(0, \"rgb(105,105,105)\");\n        panel.addColorStop(0.5, \"rgb(128,128,128)\");\n        panel.addColorStop(1, \"rgb(169,169,169)\");\n        CTX.fillStyle = panel;\n        CTX.fillRect(this.playGame.gamePanelCoords[0], this.playGame.gamePanelCoords[1],\n            this.playGame.gamePanelSize[0], this.playGame.gamePanelSize[1]);\n    \n        CTX.strokeStyle = 'blue';\n        CTX.lineWidth = 5;\n        (this.view === 'mobile') && (this.playGame.hpBarBoorderCoords[0] = this.settings.width / 4);\n    \n        CTX.strokeRect(this.playGame.hpBarBoorderCoords[0], this.playGame.hpBarBoorderCoords[1],\n            this.playGame.hpBarBoorderSize[0], this.playGame.hpBarBoorderSize[1]);\n        CTX.fillStyle = 'crimson';\n    \n        (gamer.stat.health <= 0) &&\n        (CTX.fillRect(this.playGame.hpBarBoorderCoords[0] + 2,\n                      this.playGame.hpBarBoorderCoords[1] + 2,0, 20));\n    \n        !(gamer.stat.health <= 0) &&\n        (CTX.fillRect(this.playGame.hpBarBoorderCoords[0] + 2,\n                      this.playGame.hpBarBoorderCoords[1] + 2,\n                      gamer.stat.health, 20));\n    \n        // HP bar\n        CTX.fillStyle = 'white';\n        CTX.font = 'bold 15px PIXI';\n        (this.view != 'mobile') &&\n        CTX.fillText(gamer.stat.health + 'HP', this.playGame.hpBarSize[0],\n            this.playGame.hpBarSize[1]);\n    \n    \n        // Lvl\n        CTX.fillStyle = 'red';\n        CTX.shadowColor = 'rgb(255,255,25)';\n        CTX.shadowOffsetX = 2;\n        CTX.shadowOffsetY = 3;\n        CTX.font = 'bold 30px PIXI';\n        CTX.fillText(game.about.stageNumber + ' LVL', 10, 30);\n        CTX.shadowOffsetX = 0;\n        CTX.shadowOffsetY = 0;\n        // Points\n        CTX.drawImage(load.SpriteStorage[0],\n                      this.playGame.PointsCoords[0], this.playGame.PointsCoords[1],\n                      this.playGame.PointsSize[0], this.playGame.PointsSize[1],\n                      this.playGame.PointsGetCoords[0], this.playGame.PointsGetCoords[1],\n                      this.playGame.PointsGetSize[0], this.playGame.PointsGetSize[1]);\n    \n        CTX.fillStyle = 'gold';\n        CTX.font = 'bold 27px PIXI';\n        CTX.fillText(gamer.stat.points, this.playGame.PointsTextCoords[0],\n                     this.playGame.PointsTextCoords[1]);\n    \n        CTX.drawImage(load.SpriteStorage[2], this.playGame.pauseButton[0],\n                      this.playGame.pauseButton[1], 20, 20);\n    \n        if ((game.about.state === 'play') && (this.settings.countModal === 0)) {\n    \n            CTX.fillStyle = 'black';\n            CTX.globalAlpha = '0.8';\n            CTX.fillRect(0, 0, this.settings.width, 100);\n            CTX.textAlign = 'center';\n            CTX.fillStyle = 'white';\n            CTX.font = 'PIXI 30px bold';\n            CTX.fillText('Move with the WASD keys', this.playGame.ModalTextWASD[0],\n                this.playGame.ModalTextWASD[1]);\n            CTX.textAlign = 'center';\n            CTX.fillStyle = 'lightblue';\n            CTX.font = 'PIXI 20px bold';\n            CTX.fillText('Press any keys', this.playGame.ModalPress[0],\n                this.playGame.ModalPress[1]);\n    \n    \n        CTX.restore();\n    }\n    }\n\n    loadingRender(load) {\n\n        this.getCtx.ctx.fillRect(this.settings.drawInX, this.settings.drawInY,\n                                 this.settings.width, this.settings.height);\n    \n        this.getCtx.ctx.fillStyle = 'grey';\n        this.getCtx.ctx.textAlign = \"center\";\n    \n        (this.view != 'mobile') ? this.getCtx.ctx.font = '100px Aria bold':\n    \n        this.getCtx.ctx.font = '45px Aria bold';\n    \n        this.getCtx.ctx.fillText('My project', this.settings.width / 2,\n                                 this.settings.height / 2);\n    }\n\n    renderMouse(load, ul) {\n\n        this.drawBuffer.ctxBuffer.drawImage(load.SpriteStorage[0], 255, 192,\n            65, 65, ul.coordsMouseX - 32.5, ul.coordsMouseY - 32.5, 65, 65);\n    }\n\n    buildingGetNameView(type, canvas) {\n\n        const inputName = type.createElement('input');\n        const buttonCancel = type.createElement('input');\n        const buttonSave = type.createElement('input');\n    \n        const div = type.createElement('div');\n        const modal = type.createElement('div');\n        const bgModal = type.createElement('div');\n    \n        modal.classList.add('modal-window');\n        bgModal.classList.add('background-modal');\n        inputName.classList.add('name');\n        buttonSave.classList.add('btnName');\n        buttonCancel.classList.add('cancelName');\n    \n        div.classList.add('center');\n        inputName.setAttribute('type', 'text');\n        inputName.setAttribute('maxlength', '11');\n        inputName.placeholder = 'NAME';\n        buttonSave.setAttribute('type', 'button');\n        buttonSave.value = 'SAVE';\n        buttonCancel.setAttribute('type', 'button');\n        buttonCancel.value = 'NO';\n    \n        div.appendChild(inputName);\n        div.appendChild(buttonSave);\n        div.appendChild(buttonCancel);\n        modal.appendChild(div);\n        bgModal.appendChild(modal);\n    \n        type.body.insertBefore(bgModal, canvas);\n    \n    }\n\n    deleteGetNameView(type) {\n\n        const modal = type.querySelector('.background-modal');\n        modal.remove();\n    }\n\n    height() {\n\n        if (window.screen.availHeight < 620) {\n    \n            this.view = 'mobile';\n    \n            return (window.screen.availHeight);\n        } else return 620;\n    }\n\n    width() {\n\n        if (window.screen.availWidth < 800) {\n    \n            ((760 < window.screen.availWidth) && (window.screen.availWidth < 800)) &&\n            (this.viewDesktop = 'half-half');\n            (window.screen.availWidth < 760) && (this.viewMode = 'demo');\n            this.view = 'mobile';\n    \n            return window.screen.availWidth - 10;\n    \n        } else  return 800;\n      }\n}\n\n\n","export default class GameController{\n\n    constructor(){\n        this.count = 0;\n        this.canvasLeft = null;\n        this.canvasTop = null;\n\n        this.inputState ={\n            UP: false,\n            DOWN: false,\n            LEFT: false,\n            RIGHT: false,\n            ESCAPE: false,\n        };\n    }\n\n    setEvent(location, gamer, load, game, UserInterface,sound){\n\n        let _that = this;\n        let canvas = document.getElementById('arena');\n        let inputName = document.getElementsByClassName('name')[0];\n    \n        document.addEventListener('keydown', moveTrue, false);\n        document.addEventListener('keyup', moveFalse, false);\n        document.addEventListener('mousemove', movingMouse);\n        document.addEventListener('click', clickOnDOM, false);\n        location.getCanvas.canvas.addEventListener('click', clickOnCanvas, false);\n    \n        function moveTrue(e){\n    \n            if (e.target.className === 'name') return 0;\n    \n           ((location.settings.countModal === 0) && (game.about.state === 'play')) &&\n            (location.settings.countModal++);\n    \n            if (!(game.about.state === 'play' || game.about.state === 'pause')){\n                e.preventDefault();\n    \n            } else if (_that.inputState.ESCAPE){\n    \n                game.about.state = 'play';\n    \n                return _that.setKeyState(e.which, false);\n    \n            } else return _that.setKeyState(e.which, true);\n        }\n    \n        function moveFalse(e){\n            \n            if (!(game.about.state === 'play' || game.about.state === 'pause')){\n    \n                e.preventDefault();\n            } else{\n    \n                if (_that.inputState.ESCAPE) return;\n                else {\n    \n                return _that.setKeyState(e.which, false);\n                }\n            }\n        };\n    \n        function movingMouse(e){\n    \n            // For links and bullets\n            if (e.target === canvas){\n    \n                _that.canvasLeft = canvas.offsetLeft;\n                _that.canvasTop = canvas.offsetTop;\n    \n                UserInterface.coordsMouseX = e.pageX - _that.canvasLeft;\n                UserInterface.coordsMouseY = e.pageY - _that.canvasTop;\n    \n                UserInterface.coorddX = UserInterface.coordsMouseX - gamer.move.pos[0];\n                UserInterface.coorddY = UserInterface.coordsMouseY - gamer.move.pos[1];\n            }\n        };\n    \n        function clickOnCanvas(e){\n    \n            if (game.about.state === 'loading' || game.about.state === 'play-animation'){\n    \n                e.preventDefault();\n                return;\n            }\n    \n    \n            let command = UserInterface.linki; // short write\n    \n            for (let i = 0; i < command.length; i++){\n                if ((UserInterface.checkFrame(command[i])) &&\n                    (command[i].Name === game.about.state)){\n    \n                    command[i].selectName = true;\n    \n                } else command[i].selectName = false;\n            }\n    \n            (location.viewMode === 'demo') && (UserInterface.linki[1].selectName = false);\n    \n            if (game.about.state === 'menu' ||\n                game.about.state === 'rating' ||\n                game.about.state === 'wait'){\n    \n                for (let elem in _that.inputState){\n    \n                    _that.inputState[elem] = false;\n                }\n    \n            } else{\n    \n                if ((_that.inputState.ESCAPE) || (UserInterface.linki[5].selectName)){\n    \n                    return;\n                } else{\n    \n                    gamer.stat.bullets.useSkill(load, gamer, UserInterface,sound);\n                }\n    \n            }\n    \n        };\n    \n        function clickOnDOM(e){\n    \n            if (e.target.className === 'btnName' && inputName.value !== ''){\n    \n                getName(inputName.value, gamer);\n                location.deleteGetNameView(document, e.target);\n    \n            } else if (e.target.className === 'cancelName'){\n    \n                location.deleteGetNameView(document, e.target);\n            }\n    \n        };\n    }\n\n    setKeyState(keyCode, isPressed){\n\n        switch (keyCode){\n            case 65:\n                this.inputState.LEFT = isPressed; break;\n            case 87:\n                this.inputState.UP = isPressed; break;\n            case 68:\n                this.inputState.RIGHT = isPressed; break;\n            case 83:\n                this.inputState.DOWN = isPressed; break;\n            case 27:\n                this.inputState.ESCAPE = isPressed; break;\n        }\n    };\n\n    inputs(time, gamer){\n\n        // -----player moving-----\n        if (this.inputState.RIGHT){\n    \n            gamer.stat.sprite.size[0] = 34;\n            gamer.stat.sprite.pos[0] = 572.1;\n            gamer.move.pos[0] += gamer.move.speeds * time;\n        }\n        if ((this.inputState.LEFT)){\n    \n            gamer.stat.sprite.size[0] = 33;\n            gamer.stat.sprite.pos[0] = 828;\n            gamer.stat.sprite.frames = [0, 1];\n            gamer.move.pos[0] -= gamer.move.speeds * time;\n        }\n        if (this.inputState.UP){\n    \n            gamer.stat.sprite.size[0] = 34;\n            gamer.stat.sprite.pos[0] = 444;\n            gamer.move.pos[1] -= gamer.move.speeds * time;\n        }\n        if (this.inputState.DOWN){\n    \n            gamer.stat.sprite.size[0] = 34;\n            gamer.stat.sprite.pos[0] = 700;\n            gamer.move.pos[1] += gamer.move.speeds * time;\n        }\n        if ((this.inputState.UP) && (this.inputState.RIGHT)){\n    \n            gamer.stat.sprite.size[0] = 33;\n            gamer.stat.sprite.pos[0] = 510;\n        } else\n        if ((this.inputState.UP) && (this.inputState.LEFT)){\n    \n            gamer.stat.sprite.size[0] = 34;\n            gamer.stat.sprite.pos[0] = 891;\n        }\n    \n        if ((this.inputState.DOWN) && (this.inputState.LEFT)){\n    \n            gamer.stat.sprite.size[0] = 33;\n            gamer.stat.sprite.pos[0] = 766;\n        } else\n        if ((this.inputState.DOWN) && (this.inputState.RIGHT)){\n    \n            gamer.stat.sprite.size[0] = 33;\n            gamer.stat.sprite.pos[0] = 636.5;\n        }\n    }\n\n    dataBaseListener(loader){\n    \n        // * Update data when db data change\n        cloudDB.use.collection('users').where('realPlayer', '==', true)\n        .onSnapshot(function (snapshot){\n\n            loader.startRecord = [];\n            snapshot.forEach(function (doc){\n\n                loader.startRecord.push(doc.data());\n\n            });\n            // * Sort records\n            loader.startRecord.sort(compare);\n        });\n    }\n}\n\n\nfunction compare(a, b){\n\n    // bubble sort records list\n    if (a.points < b.points){\n\n        return -1;\n    }\n    if (a.points > b.points){\n\n        return 1;\n    }\n    return 0;\n}\n\n\n","import {Sprite,Items} from './GameModel.js';\n\nfunction update(time, gamer, load, game, link,sound){\n\n    gamer.gameTime += time; // game time\n\n    // ---start game---\n    (((game.about.state === 'play-animation') && (game.fade <= 0))) &&\n    animationMoving(gamer, game, time);\n\n    /* check win and gameOver */\n    if ((game.about.state === 'play') ||\n        (game.about.state === 'wait')){\n        gamer.GameOver(gamer, game, load,sound);\n        gamer.Win(gamer, game, load);\n\n    }\n\n    // * If game state play\n    if ((!(game.pause(link[5]))) && (game.about.state !== 'pause') &&\n        ((game.about.state !== 'menu') && (game.about.state !== 'rating'))){\n        updateCreeps(time, gamer, load, game,sound); // check enemys and update player/enemy sprite\n        updateBulls(time, gamer, load); // check bullets\n        checkShot(load, gamer); // check shot\n        checkItem(load, gamer,sound); // drop items\n        damageCheck(load, gamer,sound,game); // get damage check\n\n    }\n\n}\n\nfunction updateCreeps(time, gamer, load, game,sound){\n\n    gamer.stat.sprite.update(time); // update player sprite\n\n    if (Date.now() - game.about.lastTimeBull > 10){ // delay\n\n        load.enemy.forEach((item) =>{\n\n            let bulPosX = item.bull.pos[0]; // get bullets pos x\n            let bulPosY = item.bull.pos[1]; // get bullets pos y\n\n            let gamerPosX = gamer.move.pos[0]; // get player pos x\n            let gamerPosY = gamer.move.pos[1]; // get player pos y\n\n            item.stat.sprite.update(time);\n\n            if ((item.bull.bullStorage.length) &&\n                ((item.bull.pos[0] <= 40) || (item.bull.pos[0] > 755) ||\n                (item.bull.pos[1] < 60) || (item.bull.pos[1] > 440))){\n\n                // delete bullets\n                item.bull.bullStorage.splice(0, 1);\n                item.bull.pos[0] = item.move.pos[0];\n                item.bull.pos[1] = item.move.pos[1];\n                return;\n            }\n            // -------Create bullets sprite-------\n            if (!(item.bull.bullStorage.length)){\n                let bullEnemy;\n\n                (item.stat.type === `boss`) &&\n                    (bullEnemy = new Sprite('bull2', load.SpriteStorage[0],\n                                            [192, 2], [30, 30], 0)\n                    );\n\n                (item.stat.type === `bossExtra`) &&\n                    (bullEnemy = new Sprite('bull2', load.SpriteStorage[0],\n                                            [354, 2], [30, 30], 0)\n                    );\n\n                (item.stat.type === `common`) &&\n                    (bullEnemy = new Sprite('bull2', load.SpriteStorage[0],\n                        [324, 0], [30, 30], 0)\n                    );\n\n                item.bull.bullStorage.push(bullEnemy); // bullets storage\n                item.bull.speed = 150; // set bullets speed x\n                item.bull.speedY = 150; // set bullets speed y\n                item.bull.speed *= getRandomPull(); // set random dir move bullets\n            }\n\n            item.bull.pos[0] += item.bull.speed * time; // move x\n            item.bull.pos[1] += item.bull.speedY * time; // move y\n            item.bull.on = 'true'; // shot on\n\n            // ------collision enemy bullets with player------\n            if ((boxCollides([bulPosX, bulPosY], [30, 30],\n                    [gamerPosX, gamerPosY], [32, 32]))){\n\n                let timers = new Date().getTime();\n                let dmgSound = sound.effects.find(item => item.name === 'damage');\n\n                if ( timers > game.about.lastTime + (dmgSound.buffer.duration*1000)){\n\n                dmgSound.play(false,0.8);\n                game.about.lastTime = timers;\n                }\n\n                gamer.stat.sprite.pos[0] = 956;\n                gamer.stat.health--;\n                gamer.move.pos[0, 1]++;\n\n                // set start sprite frame\n                let resetSprite = setTimeout(() =>{\n                    gamer.stat.sprite.pos[0] = 700;\n\n                }, 200);\n            }\n\n            // ------pushing and set sprite frames away from the walls------\n\n            // ---change dir moving---\n\n            dirMovingEnemy(item);\n\n            item.move.pos[0] += item.enemySpeedX; // moving enemy x\n            item.move.pos[1] += item.enemySpeedY; // moving enemy y\n        });\n\n        game.about.lastTimeBull = Date.now(); // delay\n    }\n}\n\nfunction updateBulls(time, gamer, load){\n\n\n    load.bullets.forEach((item, i, array) =>{\n\n        let bull = item; // short write\n\n        // ------ bullets gamer move dir ------\n\n        calcBullet(item, gamer, time);\n\n        if (bull.pos.y < 50 || bull.pos.y > 440 ||\n            bull.pos.x > 727 || bull.pos.x < 35){\n\n            // if bullets left valid dir\n            array.splice(i, 1);\n            i--;\n        }\n    });\n}\n\nfunction checkShot(load, gamer){ // get plater damage or no\n\n    //---auxiliary variables---\n    let posBull = [];\n    let enemyPos = [];\n\n    load.bullets.forEach((itemBull, i) =>{\n\n        posBull[0] = itemBull.pos.x;\n        posBull[1] = itemBull.pos.y;\n\n        load.enemy.forEach((itemEnemy) =>{\n\n            enemyPos[0] = itemEnemy.move.pos[0];\n            enemyPos[1] = itemEnemy.move.pos[1];\n\n            if (boxCollides(enemyPos, [35, 35], posBull, [35, 35]) &&\n                (itemEnemy.stat.health > 0)){\n\n                itemEnemy.stat.health -= gamer.stat.damage;\n                load.bullets.splice(i, 1);\n            }\n        });\n    });\n}\n\nfunction checkItem(load, gamer,sound){ // player came on items or no\n\n    //---auxiliary variables---\n    let posItem = [];\n    let posGamer = [];\n    let timerDelete = null; // timer for delte unactive items\n\n\n    load.coins.forEach((item, i, array) =>{\n\n        posItem[0] = item.pos[0]; // coins position x\n        posItem[1] = item.pos[1]; // coins position y\n\n        posGamer[0] = gamer.move.pos[0]; // gamer position x\n        posGamer[1] = gamer.move.pos[1]; // gamer position y\n\n        if (boxCollides(posGamer, [26, 26], posItem, [26, 26])){\n\n            sound.effects.find(item => item.name === 'money').play(false,0.8);\n            gamer.stat.points += 10;\n            array.splice(i, 1);\n        }\n    });\n\n    load.eat.forEach((item, i, array) =>{\n\n        posItem[0] = item.pos[0]; // eat position x\n        posItem[1] = item.pos[1]; // eat position y\n\n        posGamer[0] = gamer.move.pos[0]; // gamer position x\n        posGamer[1] = gamer.move.pos[1]; // gamer position y\n\n        if (boxCollides(posGamer, [26, 26], posItem, [26, 26])){\n\n            if ((gamer.stat.health < 200) &&\n                ((gamer.stat.health + (gamer.stat.health * 0.20) < 200))){\n\n                sound.effects.find(item => item.name === 'eat').play(false,0.8);\n                gamer.stat.health += Math.floor(200 * 0.16);\n                array.splice(i, 1);\n\n            } else timerDelete = setTimeout(() =>{\n                array.splice(i, 1);\n            }, 2000);\n        }\n    });\n\n    load.upgrade.forEach((item, i, array) =>{\n\n        posItem[0] = item.pos[0]; // eat position x\n        posItem[1] = item.pos[1]; // eat position y\n\n        posGamer[0] = gamer.move.pos[0]; // gamer position x\n        posGamer[1] = gamer.move.pos[1]; // gamer position y\n\n        if (boxCollides(posGamer, [30, 30], posItem, [30, 30])){\n\n            sound.effects.find(item => item.name === 'lvlUp').play(false,0.8);\n            gamer.stat.damage += 5;\n            array.splice(i, 1);\n\n        }\n    });\n}\n\n\nfunction calculate(gamer){\n\n    // -----calculate player position-----\n\n        (gamer.move.pos[0] <= 35) && (gamer.move.pos[0] = 35);\n\n        (gamer.move.pos[0] >= 727) && (gamer.move.pos[0] = 727);\n\n        (gamer.move.pos[1] <= 55) && (gamer.move.pos[1] = 55);\n\n        (gamer.move.pos[1] >= 440) && (gamer.move.pos[1] = 440);\n\n}\n\nfunction animationMoving(gamer, game, time){\n\n    // -----start game animation-----\n    if (gamer.move.animationPos[1] >= gamer.move.pos[1]){\n\n        gamer.move.pos[1] += gamer.move.speeds * time;\n\n    } else game.about.state = 'play'; // set state\n}\n\nfunction getName(buttonName, gamer){\n\n    // get gamer name from localStorage and set\n    localStorage.name = buttonName;\n    return gamer.stat.gamerName = buttonName;\n}\n\nfunction calcBullet(bullet, gamer, time){\n\n    // преобразуем координаты в объект класса Vector\n    const pos = new Vector(bullet.pos.x, bullet.pos.y);\n\n    // рассчитываем вектор приращения в направлении движения пули для ее скорости\n    const vector = bullet.direction.multiply(gamer.stat.bullets.weapons.speed * time);\n\n    // добавляем к координатам пули значение вектора с приращениями\n    bullet.pos = pos.add(vector);\n}\n\nfunction dirMovingEnemy(item){\n\n    if ((item) && (item.move.pos[0] > 700)){\n\n        item.enemySpeedX *= -1;\n\n        // ---set sprite frames---\n        (item.stat.type === 'boss' || item.stat.type === 'bossExtra') &&\n                                        (item.stat.sprite.pos[0] = 1226);\n\n    }\n\n    // ---change dir moving---\n    if ((item) && (item.move.pos[0] < 70)){\n\n        item.enemySpeedX *= -1;\n\n        // ---set sprite frames---\n        (item.stat.type === 'boss' || item.stat.type === 'bossExtra') &&\n                                        (item.stat.sprite.pos[0] = 712);\n    }\n\n    // ---change dir moving---\n    if ((item) && (item.move.pos[1] < 70)){\n\n        item.enemySpeedY *= -1; // change dir moving\n\n        // ---set sprite frames---\n        ((item.stat.type === 'boss') || (item.stat.type === 'bossExtra')) &&\n                                        (item.stat.sprite.pos[0] = 964);\n    }\n\n    // ---change dir moving---\n    if ((item) && (item.move.pos[1] > 400)){\n\n        item.enemySpeedY *= -1; // change dir moving\n\n        // ---set sprite frames---\n        ((item.stat.type === 'boss') || (item.stat.type === 'bossExtra')) &&\n                                            (item.stat.sprite.pos[0] = 452);\n    }\n}\n\nfunction damageCheck(load, gamer,sound,game){\n\n    let resetSprite; // timer for splice items\n\n    load.enemy.forEach((itemEnemy, i, arrayEnemy) =>{ // check all enemys\n\n        if (itemEnemy.stat.health <= 0){\n\n            if ((itemEnemy.stat.onDeath === false)){\n\n                itemEnemy.stat.onDeath = true;\n                gamer.stat.whatDrop = Math.random() < 0.5;\n                gamer.stat.upgradeRate = Math.random() < 0.05;\n\n                deathEnemyUpdate(itemEnemy);\n\n                (itemEnemy.stat.type === 'common') && (itemEnemy.stat.sprite.pos[0] = 960);\n                (itemEnemy.stat.type === 'common') &&  (itemEnemy.stat.sprite.pos[1] = 102);\n\n                (itemEnemy.stat.type === 'boss') && (itemEnemy.stat.sprite.pos[0] = 1540);\n                (itemEnemy.stat.type === 'boss') && (itemEnemy.stat.sprite.pos[1] = 232);\n                (itemEnemy.stat.type === 'boss') && (itemEnemy.stat.sprite.frames = [0, 1, 2]);\n\n                (itemEnemy.stat.type === 'bossExtra') && (itemEnemy.stat.sprite.pos[0] = 1542);\n                (itemEnemy.stat.type === 'bossExtra') && (itemEnemy.stat.sprite.pos[1] = 298);\n                (itemEnemy.stat.type === 'bossExtra') && (itemEnemy.stat.sprite.frames = [0, 1, 2]);\n\n                if (gamer.stat.whatDrop){ // drops\n\n                    let coins = new Items();\n                    coins.settingsItems.name = 'coin';\n\n                    if (coins.lucky(0.7)){ // drop coins\n\n                        coins.setSprite(load, 69, 30, 26, 37);\n                        // coins position\n                        coins.pos[0] = itemEnemy.move.pos[0];\n                        coins.pos[1] = itemEnemy.move.pos[1];\n\n                        load.coins.push(coins);\n\n                    } else coins = null;\n\n                } else{\n\n                    let eat = new Items();\n                    eat.settingsItems.name = 'eat';\n\n                    if (eat.lucky(0.5)){ // drop eats\n\n                        eat.setSprite(load, 95, 30, 39, 40);\n                        // eat position\n                        eat.pos[0] = itemEnemy.move.pos[0];\n                        eat.pos[1] = itemEnemy.move.pos[1];\n\n                        load.eat.push(eat);\n\n                    } else eat = null;\n\n                }\n                gamer.stat.upgradeRate = true;\n                if (gamer.stat.upgradeRate){\n\n                    let upgrade = new Items();\n                    upgrade.settingsItems.name = 'scroll';\n\n                    if(upgrade.lucky(0.2)){\n\n                    upgrade.setSprite(load, 128, 192, 42, 44);\n\n                    upgrade.pos[0] = itemEnemy.move.pos[0] + 5;\n                    upgrade.pos[1] = itemEnemy.move.pos[1] + 5;\n\n                    load.upgrade.push(upgrade);\n                    } else upgrade = null;\n                }\n\n                // -----------collision-----------\n\n                gamer.killCount++;\n                itemEnemy.sound.play(false,1);\n            }\n\n            if (itemEnemy.stat.sprite.index >= itemEnemy.stat.sprite.frames.length){\n                itemEnemy.DeathTimer = null;\n                arrayEnemy.splice(i, 1);\n                gamer.stat.points += 25;\n\n            }\n        }\n\n        checkPlayerDmg(itemEnemy,gamer,sound,game);\n\n    });\n}\n\nfunction checkPlayerDmg(itemEnemy,gamer,sound,game){\n\n    \n\n    // * Get player dmg or no\n    if ((itemEnemy) && (boxCollides([itemEnemy.move.pos[0], itemEnemy.move.pos[1]],\n            [30, 30], [gamer.move.pos[0], gamer.move.pos[1]], [32, 32]))){\n\n        if (gamer.stat.health > -1){\n\n            gamer.stat.sprite.pos[0] = 956; // damage player sprite\n            let timers = new Date().getTime();\n            let dmgSound = sound.effects.find(item => item.name === 'damage');\n\n            if ( timers > game.about.lastTimeColl + (dmgSound.buffer.duration*1000)){\n\n            dmgSound.play(false,0.8);\n            game.about.lastTimeColl = timers;\n            }\n            gamer.stat.health--; // get damage\n            gamer.move.pos[0, 1]++; // repulsion\n\n           let resetSprite = setTimeout(() =>{ gamer.stat.sprite.pos[0] = 700; },0);\n        } else gamer.stat.health = 0;\n    }\n}\n\nfunction deathEnemyUpdate(itemEnemy){\n\n    // * Death enemy\n    itemEnemy.stat.sprite.once = true;\n    itemEnemy.stat.sprite.speed = 10;\n    itemEnemy.stat.sprite.index = 0;\n    itemEnemy.stat.sprite.Saveframes = 0;\n\n    itemEnemy.enemySpeedX = 0;\n    itemEnemy.enemySpeedY = 0;\n\n    itemEnemy.bull.on = false;\n    itemEnemy.bull.bullStorage = [];\n}\n\nfunction collides(x, y, r, b, x2, y2, r2, b2){\n\n    // check collisions\n    return !(r <= x2 || x > r2 ||\n            b <= y2 || y > b2);\n}\n\nfunction boxCollides(pos, size, pos2, size2){\n\n    // check collisions\n    return collides(\n        pos[0], pos[1],\n        pos[0] + size[0],\n        pos[1] + size[1],\n        pos2[0], pos2[1],\n        pos2[0] + size2[0],\n        pos2[1] + size2[1]\n    );\n}\n\nfunction getRandomPull(){\n\n    // -----get random bullets dir-----\n    let arr = [-1.2, -1, 1, 1.2];\n    let rand = Math.floor(Math.random() * arr.length);\n    return arr[rand];\n}\n\n\nexport { update,calculate }","import {DataBase,Request,WebAudio,\n        Game,UI, Loader,Player,Enemy} from './GameModel.js';\nimport Draw from './GameView.js';\nimport GameController from './GameController.js';\nimport {update, calculate} from './headlerModal.js';\n\n//--------INIT--------//\n\n\nfunction Links(url, name, coordsX, coordsY, lengthX, lengthY){\n\n    this.url = url;\n    this.Name = name;\n    this.pos = [coordsX, coordsY];\n    this.length = [lengthX, lengthY];\n    this.color = 'red';\n    this.selectColor = 'rgb(255,140,0)';\n    this.selectName = false;\n}\n\nexport default function main(){\n\n        let canvas = document.getElementById('arena');\n        canvas.classList.add('canvasInit');\n        const statistic = null;\n        let gameLoop = null;\n        let lastTime = null;\n        let now = null;\n        let time = null;\n\n\n        let sound = new WebAudio();\n        sound.init();\n        sound.load('audio/main.mp3','additional');\n        sound.load('audio/shot.mp3','shot');\n        sound.load('audio/Fly_A_Kite.mp3','main');\n        sound.load('audio/money.wav','money');\n        sound.load('audio/eat.wav','eat');\n        sound.load('audio/damage.wav','damage');\n        sound.load('audio/death_boss.wav','deathBoss');\n        sound.load('audio/death-bat.mp3','deathBat');\n        sound.load('audio/death-bossExtra.wav','bossExtra');\n        sound.load('audio/gameOver.wav','gameOver');\n        sound.load('audio/lvl.mp3','lvl');\n        sound.load('audio/lvlUP.wav','lvlUp');\n        sound.load('audio/lvlUP.wav','lvlUp2');\n        sound.load('audio/select.wav','select');\n        console.log(sound);\n\n        // Object init\n        const game = new Game();\n        const gamePlayDraw = new Draw();\n        const controller = new GameController();\n        const UserInterface = new UI();\n        const loader = new Loader();\n        const request = new Request();\n\n\n\n\n        !(localStorage.IP) && (request.getIP(loader));\n\n        let mainDB = new DataBase();\n        mainDB.updateLimit();\n        request.getSpriteData(loader);\n\n        gamePlayDraw.getCanvas.canvas.setAttribute('width', gamePlayDraw.settings.width);\n        gamePlayDraw.getCanvas.canvas.setAttribute('height', gamePlayDraw.settings.height);\n\n        (gamePlayDraw.view === 'mobile') && (gamePlayDraw.getCanvas.canvas.classList.add('scale'));\n\n        // links\n\n        if (gamePlayDraw.view != 'mobile'){\n\n            UserInterface.linki.push(new Links('PAUSE', 'pause',\n                                                gamePlayDraw.pause.pauseLink[0],\n                                                gamePlayDraw.pause.pauseLink[1],\n                                                gamePlayDraw.pause.sizeLinkPause[0],\n                                                gamePlayDraw.pause.sizeLinkPause[1]));\n\n            UserInterface.linki.push(new Links('PLAY', 'menu',\n                                                gamePlayDraw.menu.play[0] - 85,\n                                                gamePlayDraw.menu.play[1] - 45,\n                                                gamePlayDraw.menu.sizeLinkPlay[0],\n                                                gamePlayDraw.menu.sizeLinkPlay[1]));\n\n            UserInterface.linki.push(new Links('RATING', 'menu',\n                                                gamePlayDraw.menu.coordsLinkRating[0],\n                                                gamePlayDraw.menu.coordsLinkRating[1],\n                                                gamePlayDraw.menu.sizeLinkRating[0],\n                                                gamePlayDraw.menu.sizeLinkRating[1]));\n\n            UserInterface.linki.push(new Links('RETURN', 'rating',\n                                                gamePlayDraw.rating.returnLinkCoords[0],\n                                                gamePlayDraw.rating.returnLinkCoords[1],\n                                                gamePlayDraw.rating.returnLinkSize[0],\n                                                gamePlayDraw.rating.returnLinkSize[1]));\n\n            UserInterface.linki.push(new Links('MENU', 'wait',\n                                                gamePlayDraw.gameOver.menuLinkCoords[0],\n                                                gamePlayDraw.gameOver.menuLinkCoords[1],\n                                                gamePlayDraw.gameOver.menuLinkSize[0],\n                                                gamePlayDraw.gameOver.menuLinkSize[1]));\n\n            UserInterface.linki.push(new Links('PAUSE-MENU', 'play',\n                                                gamePlayDraw.playGame.pauseButton[0],\n                                                gamePlayDraw.playGame.pauseButton[1],\n                                                gamePlayDraw.playGame.pauseLinkSize[0],\n                                                gamePlayDraw.playGame.pauseLinkSize[1]));\n\n        } else{\n\n            UserInterface.linki.push(new Links('PAUSE', 'pause',\n                                                gamePlayDraw.pause.pauseLink[0],\n                                                gamePlayDraw.pause.pauseLink[1],\n                                                100, 30));\n\n            UserInterface.linki.push(new Links('PLAY', 'menu',\n                                                gamePlayDraw.menu.play[0] - 85,\n                                                gamePlayDraw.menu.play[1] - 45,\n                                                200, 80));\n\n            UserInterface.linki.push(new Links('RATING', 'menu',\n                                                gamePlayDraw.menu.coordsLinkRating[0],\n                                                gamePlayDraw.menu.coordsLinkRating[1],\n                                                250, 80));\n\n            UserInterface.linki.push(new Links('RETURN', 'rating',\n                                                gamePlayDraw.rating.return[0] - 40,\n                                                gamePlayDraw.rating.returnLinkCoords[1]-10,\n                                                gamePlayDraw.rating.returnLinkSize[0],\n                                                gamePlayDraw.rating.returnLinkSize[1]));\n        }\n\n        loader.loading('Image', 'img/texture.png', 'texture');\n        loader.loading('Image', 'img/sheet_objects_heroes.png', 'sprite');\n        loader.loading('Image', 'img/menu_800x600.jpg', 'sprite');\n        loader.loading('Image', 'img/pause.png', 'sprite');\n        loader.loading('Image', 'img/box_background.png', 'sprite');\n        loader.loading('Image', 'img/box.png', 'sprite');\n\n        // loading\n        gamePlayDraw.loadingRender(loader);\n\n\n        // enemy and player\n        let enemy = new Enemy();\n        let player = new Player(loader, gamePlayDraw);\n\n\n        loader.enemy.forEach(() =>{\n            // -----start move-----\n            loader.enemy[i].bull.pos[0] = loader.enemy[i].move.pos[0];\n            loader.enemy[i].bull.pos[1] = loader.enemy[i].move.pos[1];\n            loader.enemy[i].enemySpeed *= getRandomPull();\n        });\n\n\n        function linkers(loader, player,sound){\n\n            (UserInterface.linki.slice(1,UserInterface.linki.length)\n            .some ((link) => link.selectName)) && (sound.effects.find(item => item.name === 'select').play(false,1));\n\n            (UserInterface.linki[1].selectName) &&\n            (game.startGameAnimation(loader, player, UserInterface.linki[1],sound));\n\n            (UserInterface.linki[2].selectName) &&\n            (game.ratingGame(UserInterface.linki[2]));\n\n            (UserInterface.linki[3].selectName) &&\n            game.mainMenu(UserInterface.linki[3]);\n\n            ((gamePlayDraw.viewMode != 'demo') && (UserInterface.linki[4].selectName || UserInterface.linki[0].selectName)) &&\n            game.mainMenu(UserInterface.linki[4],sound);\n\n            ((gamePlayDraw.viewMode != 'demo') && (UserInterface.linki[5].selectName)) &&\n            (game.pause(UserInterface.linki[5],controller.inputState.ESCAPE));\n\n        }\n\n\n        function menu(loader, player){\n\n            if (!(game.about.state === 'menu')) return;\n\n                player.setHealth(200);\n                game.setRequstCount(0);\n        }\n\n        (!localStorage.name) &&\n            (gamePlayDraw.buildingGetNameView(document, gamePlayDraw.getCanvas.canvas));\n\n\n        let timer = setTimeout(() =>{\n\n            game.about.state = 'menu';\n            gameLoop = requestAnimationFrame(loop);\n        }, 3000);\n\n        controller.setEvent(gamePlayDraw, player, loader, game, UserInterface,sound);\n        gamePlayDraw.building(loader, player, game);\n\n        controller.dataBaseListener(loader);\n\n\n        function gameplay(loader, player, game,sound){\n\n            (game.about.state === 'play-animation') &&\n            (gamePlayDraw.building(loader, player, game));\n\n            if ((game.about.state === 'play') && !(loader.enemy.length)){\n\n\n                (game.about.stageNumber >= 20) && (player.setHealth(0));\n\n                if (game.about.stageNumber >= 10){\n\n                    game.about.stageNumber++;\n                    game.about.stageBossCount++;\n                    game.about.stageExtraBossCount++;\n\n                } else if (game.about.stageNumber >= 7){\n\n                    game.about.stageNumber++;\n                    game.about.stageBossCount++;\n                }\n\n                (game.about.stageNumber < 7) && (game.about.stageNumber++);\n\n                game.spawnAndLvling(game, loader, enemy, game.about.stageNumber,sound);\n            };\n        }\n\n        function buildTexture(game, loader, player){\n\n                (game.about.state === 'play') && (calculate(player));\n\n                ((game.about.state === 'play') || (game.about.state === 'wait')) &&\n                (gamePlayDraw.building(loader, player, game))\n        }\n\n        function pauseCheck(game, controller){\n\n            ((game.about.state === 'pause') && !(controller.inputState.ESCAPE)) &&\n            (controller.inputState.ESCAPE = true);\n        }\n\n        function death(game, player, loader,sound){\n\n            if ((game.about.state === 'wait') &&(game.about.requstCount === 0) &&\n                (player.stat.health <= 0)){\n\n                (localStorage.name) && (player.stat.gamerName = localStorage.name);\n                !(localStorage.name) && (player.stat.gamerName = 'player' +\n                                        (Math.random().toFixed(3)).toString());\n\n                let id = '_id' + loader.startRecord.length;\n\n                const statistic ={\n\n                    result:{\n                        name: player.stat.gamerName,\n                        points: player.stat.points,\n                        id: id.slice(1, id.length),\n                        ip: localStorage.IP,\n                    }\n                }\n\n                localStorage.setItem(\"result\", JSON.stringify(statistic));\n\n                mainDB.updateUserData(localStorage.IP, id, player.stat.gamerName,\n                    player.stat.points, loader);\n\n                game.about.requstCount++;\n            }\n        }\n\n        function loop(){\n\n            now = Date.now();\n            time = (now - lastTime) / 1000.0;\n\n            linkers(loader, player, sound);\n            menu(loader, player);\n            gameplay(loader, player, game,sound);\n\n            if ((!(game.pause(UserInterface.linki[5],\n                controller.inputState.ESCAPE))) &&\n                (game.about.state === 'play')){\n\n            controller.inputs(time, player); // check inputs\n            }\n            update(time, player, loader, game, UserInterface.linki,sound);\n            pauseCheck(game, controller);\n            buildTexture(game, loader, player,sound);\n            gamePlayDraw.renders(player, loader, game, UserInterface,sound);\n            death(game, player, loader,sound); //, request\n\n            lastTime = now;\n            requestAnimationFrame(loop);\n        }\n    }\n\n\n","\n\nimport '../img/box_background.png';\nimport '../img/box.png';\nimport '../img/coins.jpg';\nimport '../img/favicon.ico';\nimport '../img/frame_background.png';\nimport '../img/loading.gif';\nimport '../img/menu_800x600.jpg';\nimport '../img/modal_background.jpg';\nimport '../img/pause.png';\nimport '../img/sheet_objects_heroes.png';\nimport '../img/texture.png';\n\nimport '../font/Nautilus.otf';\nimport '../font/SHPinscher-Regular.otf';\n\nimport '../style/style.scss';\nimport '../style/media.scss';\n\nimport main from './chunks/init.js';\n\nif (module.hot && process.env === 'development') module.hot.accept();\n\nmain();\n\n"],"sourceRoot":""}